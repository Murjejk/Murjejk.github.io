<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Training Log</title>
  <link rel="stylesheet" href="css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Helvetica&display=swap" rel="stylesheet">
  <!-- Firebase App (obligatoriskt) -->
<script src="https://www.gstatic.com/firebasejs/9.25.0/firebase-app-compat.js"></script>
<!-- Firebase Auth -->
<script src="https://www.gstatic.com/firebasejs/9.25.0/firebase-auth-compat.js"></script>

</head>
<body>
<div id="loginOverlay">
  <div class="login-box">
    <h2>Gym-Log</h2>
    <p>Skriv in lösenord för att fortsätta:</p>
    <input type="password" id="passwordInput" placeholder="Lösenord">
    <button onclick="checkPassword()">Logga in</button>
    <p id="loginError" class="error"></p>
  </div>
</div>

<header>GYM-LOG</header>

<main>

<!-- PASS -->
<section id="pass" class="active card">
  <h2>Välj Pass</h2>
  <div id="passList"></div>
</section>

  <!-- MUSKELGRUPP -->
  <section id="muskel" class="card">
    <h2>Muskelgrupper</h2>
    <ul id="muscleList"></ul>

    <div id="exerciseHistoryContainer">
      <h3 id="exerciseTitle"></h3>
      <div id="exerciseHistory"></div>
      <canvas id="exerciseChart" width="100%" height="60"></canvas>
    </div>
  </section>

  <!-- LÄGG TILL ÖVNING -->
  <section id="ovningar" class="card">
    <h2>Lägg till träning</h2>
    <form id="logForm">
      <input type="text" id="exercise" name="exercise" placeholder="Exercise" required>
      <input type="number" id="weight" name="weight" placeholder="Weight (kg)" required>
      <input type="number" id="reps" name="reps" placeholder="Reps" required>
      <input type="text" id="primary" name="primary" placeholder="Primär muskelgrupp" required>
      <input type="text" id="secondary" name="secondary" placeholder="Sekundär muskelgrupp">
      <select id="effort" name="effort" required>
        <option value="" disabled selected>Insats</option>
        <option value="Lätt">Lätt</option>
        <option value="Rätt">Rätt</option>
        <option value="Svår">Svår</option>
      </select>
      <button type="submit">Add</button>
    </form>

    <h3>Träningshistorik</h3>
    <div id="tableContainer">
      <p class="empty-message">Laddar poster...</p>
    </div>
  </section>

  <!-- KROPPSVIKT -->
  <section id="kroppsvikt" class="card">
    <h2>Kroppsvikt</h2>
    <p id="latestWeight">Laddar senaste vikt...</p>

    <form id="weightForm">
      <input type="number" id="newWeight" placeholder="Kroppsvikt kg">
      <button type="submit">Spara vikt</button>
    </form>

    <h3>Historik</h3>
    <div id="weightHistory"></div>

    <h3>Graf</h3>
    <canvas id="weightChart" width="100%" height="60"></canvas>
  </section>
  
<!-- VILOTID -->
<section id="vilo" class="card">
  <h2>Vilotid</h2>

  <div class="timer-controls">
    <label for="restTime">Välj tid (sek):</label>
    <input type="number" id="restTime" min="10" max="600" value="120" step="10">
    <button onclick="startRestTimer()">Starta</button>
  </div>

  <div class="circle-timer">
    <svg viewBox="0 0 120 120">
      <circle class="bg" cx="60" cy="60" r="54"></circle>
      <circle class="progress" cx="60" cy="60" r="54"></circle>
    </svg>
    <div id="timerText">2:00</div>
  </div>
</section>
</main>

<!-- Ny text ovanför navbar -->
<div class="nav-credit">by Erik Palmér</div>
  
<!-- NAVIGATION -->
<nav>
  <button onclick="showSection('pass', this)" class="active">
    <img src="assets/icons/pass.png" alt="Pass">
  </button>
  <button onclick="showSection('muskel', this)">
    <img src="assets/icons/muskel.png" alt="Muskel">
  </button>
  <button onclick="showSection('ovningar', this)">
    <img src="assets/icons/add.png" alt="Lägg till">
  </button>
  <button onclick="showSection('kroppsvikt', this)">
    <img src="assets/icons/weight.png" alt="Kroppsvikt">
  </button>
  <button onclick="showSection('vilo', this)">
    <img src="assets/icons/timer.png" alt="Vilotid">
  </button>
</nav>

<!-- SCRIPTS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="js/main.js"></script>
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCvrXL_n-YNgtxwXegG0BzkHu9_CJUPiDU",
    authDomain: "training-d1d9d.firebaseapp.com",
    projectId: "training-d1d9d",
    storageBucket: "training-d1d9d.firebasestorage.app",
    messagingSenderId: "813923749374",
    appId: "1:813923749374:web:7e301c4970d77893f7c4af",
    measurementId: "G-KPV09FMJB7"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
</body>
</html>
